import{_ as g}from"./button.8d6b0125.js";import{_ as v}from"./language-dropdown.a8e3982d.js";import{a as x,r as w,b,e as s,t as a,w as l,f as n,h as c,o as S,l as d,p as u,m}from"./entry.66efff33.js";import{u as $,a as _}from"./auth.4e66cf30.js";const k={class:"flex min-h-full flex-col justify-center py-12 sm:px-6 lg:px-8"},V={class:"sm:mx-auto sm:w-full sm:max-w-md"},C=s("img",{class:"mx-auto h-12 w-auto",src:"https://tailwindui.com/img/logos/mark.svg?color=indigo&shade=600",alt:"Your Company"},null,-1),T={class:"mt-6 text-center text-3xl font-bold tracking-tight text-gray-900"},A={class:"mt-2 text-center text-sm text-gray-600"},B={class:"mt-8 sm:mx-auto sm:w-full sm:max-w-md"},K={class:"bg-white py-8 px-4 shadow sm:rounded-lg sm:px-10"},N=["onSubmit"],j={class:"mt-6"},O={class:"relative"},P=s("div",{class:"absolute inset-0 flex items-center"},[s("div",{class:"w-full border-t border-gray-300"})],-1),D={class:"relative flex justify-center text-sm"},E={class:"px-2 bg-white text-gray-500"},F={class:"mt-6"},H={class:"w-full inline-flex rounded-md shadow-sm"},z={__name:"resend",setup(I){const{t:r}=x(),i=w({email:"",busy:!1,onKeydown(t){this.errors.props=[]},params(){return{email:this.email}},errors:{props:[],has(t){var e,o;return(o=(e=this.props)==null?void 0:e.hasOwnProperty(t))!=null?o:!1},get(t){return this.has(t)?Array.isArray(this.props[t])?this.props[t][0]:this.props[t]:null}},async post(t){try{this.busy=!0;const e=await $(t,{method:"POST",body:this.params()});return this.busy=!1,e}catch(e){this.busy=!1,e.data.errors!==void 0?this.errors.props=e.data.errors:this.errors.props=e.data}}});async function p(){const e=await _().fetchUser();if(console.log(e),e.email_verified_at)return u({name:"index"});try{await i.value.post("/email/resend"),m({title:r("successful"),text:r("verify_email_address"),type:"success",duration:5e3})}catch(o){m({title:r("whoops"),text:o.response.data.message,type:"error",duration:5e3})}}async function h(){return await _().logout(),u({name:"login"})}return(t,e)=>{const o=g,f=v;return S(),b("div",k,[s("div",V,[C,s("h2",T,a(t.$t("verify_your_account")),1),s("p",A,a(t.$t("verify_your_account_description")),1)]),s("div",B,[s("div",K,[s("form",{class:"space-y-6",action:"#",onSubmit:l(p,["prevent"]),onKeydown:e[0]||(e[0]=y=>i.value.onKeydown(y))},[s("div",null,[n(o,{loading:i.value.busy,"loading-text":t.$t("resending_verification_email")},{default:c(()=>[d(a(t.$t("resend_verification_email")),1)]),_:1},8,["loading","loading-text"])])],40,N),s("div",j,[s("div",O,[P,s("div",D,[s("span",E,a(t.$t("not_ready_to_verify_your_account")),1)])]),s("div",F,[s("div",null,[s("span",H,[n(o,{"native-type":"button",type:"secondary",onClick:l(h,["prevent"])},{default:c(()=>[d(a(t.$t("logout")),1)]),_:1},8,["onClick"])])])])])]),n(f,{"show-label":!0})])])}}};export{z as default};
