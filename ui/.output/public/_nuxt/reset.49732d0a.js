import{_}from"./input.b0f6200c.js";import{_ as w}from"./button.8d6b0125.js";import{_ as h}from"./language-dropdown.a8e3982d.js";import{a as y,G as g,r as v,b as x,e as r,t as n,w as b,f as i,h as l,o as V,l as d,m as $,p as k}from"./entry.66efff33.js";import{u as q}from"./auth.4e66cf30.js";const S={class:"flex min-h-full flex-col justify-center py-12 sm:px-6 lg:px-8"},T={class:"sm:mx-auto sm:w-full sm:max-w-md"},B=r("img",{class:"mx-auto h-12 w-auto",src:"https://tailwindui.com/img/logos/mark.svg?color=indigo&shade=600",alt:"Your Company"},null,-1),K={class:"mt-6 text-center text-3xl font-bold tracking-tight text-gray-900"},N={class:"mt-2 text-center text-sm text-gray-600"},U={class:"mt-8 sm:mx-auto sm:w-full sm:max-w-md"},A={class:"bg-white py-8 px-4 shadow sm:rounded-lg sm:px-10"},C=["onSubmit"],G={__name:"reset",setup(O){const{t:p}=y(),u=g(),o=v({email:u.query.email,token:u.params.token,password:"",password_confirmation:"",busy:!1,onKeydown(s){this.errors.props=[]},params(){return{email:this.email,password:this.password,password_confirmation:this.password_confirmation,token:this.token}},errors:{props:[],has(s){var e,a;return(a=(e=this.props)==null?void 0:e.hasOwnProperty(s))!=null?a:!1},get(s){return this.has(s)?Array.isArray(this.props[s])?this.props[s][0]:this.props[s]:null}},async post(s){try{this.busy=!0;const e=await q(s,{method:"POST",body:this.params()});return this.busy=!1,e}catch(e){this.busy=!1,e.data.errors!==void 0?this.errors.props=e.data.errors:this.errors.props=e.data}}});async function m(){const s=await o.value.post("/password/reset");if(!o.value.errors.props.length)return $({title:p("successful"),text:s.status,type:"success",duration:5e3}),k({name:"index"})}return(s,e)=>{const a=_,c=w,f=h;return V(),x("div",S,[r("div",T,[B,r("h2",K,n(s.$t("reset_password")),1),r("p",N,n(s.$t("reset_password_description")),1)]),r("div",U,[r("div",A,[r("form",{class:"space-y-6",action:"#",onSubmit:b(m,["prevent"]),onKeydown:e[3]||(e[3]=t=>o.value.onKeydown(t))},[i(a,{modelValue:o.value.email,"onUpdate:modelValue":e[0]||(e[0]=t=>o.value.email=t),disabled:!0,errors:o.value.errors,required:"",name:"email",type:"email"},{default:l(()=>[d(n(s.$t("email_address")),1)]),_:1},8,["modelValue","errors"]),i(a,{modelValue:o.value.password,"onUpdate:modelValue":e[1]||(e[1]=t=>o.value.password=t),errors:o.value.errors,"error-key":"password",required:"",name:"password",type:"password"},{default:l(()=>[d(n(s.$t("password")),1)]),_:1},8,["modelValue","errors"]),i(a,{modelValue:o.value.password_confirmation,"onUpdate:modelValue":e[2]||(e[2]=t=>o.value.password_confirmation=t),errors:o.value.errors,"error-key":"password",required:"",name:"password_confirmation",type:"password"},{default:l(()=>[d(n(s.$t("password_confirmation")),1)]),_:1},8,["modelValue","errors"]),r("div",null,[i(c,{loading:o.value.busy,"loading-text":s.$t("resetting_password")},{default:l(()=>[d(n(s.$t("reset_password")),1)]),_:1},8,["loading","loading-text"])])],40,C)]),i(f,{"show-label":!0})])])}}};export{G as default};
